{"mappings":"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","sources":["js/main.js"],"sourcesContent":["let body = document.body;\nlet tableBody = body.querySelector('tbody');\nlet tableTemplate = body.querySelector('#template').content;\nlet sortSelect = body.querySelector('.form-select');\nlet filterInput = body.querySelector('.form-control');\nlet modal = body.querySelector('.modal');\nlet closeButton = body.querySelector('.btn-close');\nlet loading = body.querySelector('.loading');\nlet currencyNav = body.querySelector('.currency-nav');\nlet currencyCounter = body.querySelector('.currency-counter');\n\nasync function getData(url) {\n\ttry {\n\t\tloading.classList.remove('loading-on');\n\t\tlet rawData = await fetch(url);\n\t\tlet { status, data } = await rawData.json();\n\n\t\tif (status === 200) {\n\t\t\tloading.classList.add('loading-on');\n\t\t}\n\n\t\twindow.localStorage.setItem('currencies', JSON.stringify(data));\n\t\trenderCurrencies(data);\n\t} catch (error) {\n\t\tloading.classList.add('loading-on');\n\t\tconsole.log(error);\n\t\tconsole.log('Internet uzildi');\n\t}\n}\ngetData('https://pressa-exem.herokuapp.com/api-49');\n\nlet localCurrencies = window.localStorage.getItem('currencies');\nlet data = [];\nif (localCurrencies) {\n\tdata = JSON.parse(localCurrencies);\n\tfor (let i = 0; i < data.length; i++) {\n\t\tdata[i].num = i;\n\t}\n\trenderCurrencies(data);\n}\nconsole.log(data);\n\n// Render function\nfunction renderCurrencies(data) {\n\ttableBody.innerHTML = null;\n\tlet fragment = document.createDocumentFragment();\n\t// creating elements\n\tdata.forEach((element) => {\n\t\tlet template = tableTemplate.cloneNode(true);\n\t\ttemplate.querySelector('.currency-code').textContent = element.Code;\n\t\ttemplate.querySelector('.currency-name').textContent = element.CcyNm_EN;\n\t\ttemplate.querySelector('.currency-lcode').textContent = element.Ccy;\n\t\ttemplate.querySelector('.currency-value').textContent =\n\t\t\telement.Rate + ' ' + \"so'm\";\n\t\ttemplate.querySelector('.currency-update').textContent = element.Date;\n\t\ttemplate.querySelector('.currency-badge').dataset.id = element.id;\n\t\tfragment.append(template);\n\t});\n\n\ttableBody.append(fragment);\n}\n\nlet showPopUp = () => (modal.style.display = 'flex');\nsetTimeout(() => {\n\tif (localStorage.getItem('popUp') !== 'shown') {\n\t\tshowPopUp();\n\t}\n}, 10000);\n\ncloseButton.addEventListener('click', () => {\n\tmodal.style.display = 'none';\n\tlocalStorage.setItem('popUp', 'shown');\n});\n\n// To prevent reloading page\nform.addEventListener('submit', (evt) => {\n\tevt.preventDefault();\n});\n\n// Sort\nsortSelect.addEventListener('change', (evt) => {\n\tlet sortValue = evt.target.value;\n\tlet sorted = [...data].sort((a, b) => {\n\t\tif (sortValue === 'high-low') {\n\t\t\treturn Number(a.Rate) < Number(b.Rate)\n\t\t\t\t? 1\n\t\t\t\t: Number(a.Rate) > Number(b.Rate)\n\t\t\t\t? -1\n\t\t\t\t: 0;\n\t\t} else if (sortValue === 'low-high') {\n\t\t\treturn Number(a.Rate) > Number(b.Rate)\n\t\t\t\t? 1\n\t\t\t\t: Number(a.Rate) < Number(b.Rate)\n\t\t\t\t? -1\n\t\t\t\t: 0;\n\t\t} else {\n\t\t\treturn renderCurrencies(data);\n\t\t}\n\t});\n\n\trenderCurrencies(sorted);\n});\n\n// Filter\nfilterInput.addEventListener('input', (evt) => {\n\tevt.preventDefault();\n\tlet filterValue = Number(evt.target.value);\n\tlet filtered = [...data].filter(\n\t\t(element) => filterValue < Number(element.Rate),\n\t);\n\trenderCurrencies(filtered);\n});\n\n// Badge Counter\nlet badge = [];\ntableBody.addEventListener('click', (evt) => {\n\telStatus = evt.target.closest('.currency-badge');\n\telStatus.classList.toggle('bg-change');\n\n\tif (elStatus.classList.contains('bg-change')) {\n\t\t// push id of elStatus\n\t\tbadge.push(elStatus.dataset.id);\n\t} else {\n\t\t// removing elStatus\n\t\tlet index = badge.indexOf(elStatus.dataset.id);\n\t\tbadge.splice(index, 1);\n\t}\n\tcurrencyCounter.textContent = badge.length;\n});\n"],"names":[],"version":3,"file":"index.72be8890.js.map","sourceRoot":"/__parcel_source_root/"}